{"version":3,"sources":["webpack:///src/views/Auth/Permission.vue","webpack:///./src/views/Auth/Permission.vue?377b","webpack:///./src/views/Auth/Permission.vue","webpack:///./src/api/permission.js"],"names":["Permission","name","components","TableToolsBox","mixins","pageMixin","props","data","currentMenu","title","treeProps","label","node","meta","children","tree","apiPermission","watch","computed","methods","getRoutes","_this","this","Object","permission","then","res","_res$data","code","message","arr","map","menu_key","vueRoutes","_","cloneDeep","dynamicRoutes","recursion","routes","filter","item","includes","handleNodeClick","_this2","_res$data2","deleteApiPermission","id","index","_this3","_res$data3","r","_r$data","ele_alert","splice","addApiPermission","push","key","route","description","saveApiPermission","_this4","every","_res$data4","_r$data2","updateRouteFromFrontEnd","_this5","getRouteName","forEach","$router","options","find","_res$data5","ele_notify","created","mounted","Auth_Permission","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","_v","_s","$store","getters","systemInfo","gutter","on","node-click","staticStyle","color","font-size","margin-top","margin-left","plain","size","type","nativeOn","click","$event","_e","_l","p","placeholder","model","value","callback","$$v","$set","expression","ap_id","directives","rawName","length","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__utils_request__","url","method","menu","params"],"mappings":"4LAkFAA,GACAC,KAAA,aACAC,YACAC,gBAAA,GAEAC,QAAAC,EAAA,GACAC,SACAC,KAPA,WAQA,OACAC,aACAC,MAAA,GACAR,KAAA,IAEAS,WACAC,MAAA,SAAAJ,EAAAK,GACA,OAAAL,EAAAM,KAAAJ,OAEAK,SAAA,YAEAC,KAAA,KACAC,mBAGAC,SACAC,YACAC,SACAC,UADA,WACA,IAAAC,EAAAC,KAYYC,OAAAC,EAAA,EAAAD,GAAZE,KAAA,SAAAC,GAAA,IAAAC,EACAD,EAAAnB,OADAoB,EACApB,KAAAqB,EADAD,EACAC,KADAD,EACAE,QACA,SAAAD,EAAA,CACA,IAAAE,EAAAvB,EAAAwB,IAAA,SAAAL,GACA,OAAAA,EAAAM,WASAC,EAAAC,EAAAC,UAAAC,EAAA,EAAAtB,UACAO,EAAAN,KARA,SAAAsB,EAAAC,GACA,OAAAA,EAAAC,OAAA,SAAAC,GAEA,OADAA,EAAA1B,WAAA0B,EAAA1B,SAAAuB,EAAAG,EAAA1B,WACAgB,EAAAW,SAAAD,EAAAvC,QAKAoC,CAAAJ,OAQAS,gBAnCA,SAmCAnC,GAAA,IAAAoC,EAAArB,KACAA,KAAAd,aACAC,MAAAF,EAAAM,KAAAJ,MACAR,KAAAM,EAAAN,MAEYsB,OAAAC,EAAA,EAAAD,CAAZhB,EAAAN,MAAAwB,KAAA,SAAAC,GAAA,IAAAkB,EACAlB,EAAAnB,KAAAqB,EADAgB,EACAhB,KAAArB,EADAqC,EACArC,KADAqC,EACAf,QACA,MAAAD,IACAe,EAAA3B,cAAAT,MAKAsC,oBAhDA,SAgDAC,EAAAC,GAAA,IAAAC,EAAA1B,KACAwB,EAKYvB,OAAAC,EAAA,EAAAD,CAAZuB,GAAArB,KAAA,SAAAC,GAAA,IAAAuB,EACAvB,EAAAnB,KAAAqB,EADAqB,EACArB,KADAqB,EACA1C,KADA0C,EACApB,QACA,MAAAD,GACoBL,OAAAC,EAAA,EAAAD,CAApByB,EAAAxC,YAAAP,MAAAwB,KAAA,SAAAyB,GAAA,IAAAC,EACAD,EAAA3C,KAAAqB,EADAuB,EACAvB,KAAArB,EADA4C,EACA5C,KADA4C,EACAtB,QACA,MAAAD,IACAoB,EAAAI,UAAA,kBACAJ,EAAAhC,cAAAT,OAXAe,KAAAN,cAAAqC,OAAAN,EAAA,IAkBAO,iBApEA,WAqEAhC,KAAAN,cAAAuC,MAAAC,IAAA,GAAAC,MAAA,GAAAzB,SAAAV,KAAAd,YAAAP,KAAAyD,YAAA,MAEAC,kBAvEA,WAuEA,IAAAC,EAAAtC,KACAA,KAAAN,cAAA6C,MAAA,SAAArB,GACA,WAAAA,EAAAgB,MAEgBjC,OAAAC,EAAA,EAAAD,CAAhBD,KAAAN,eAAAS,KAAA,SAAAC,GAAA,IAAAoC,EACApC,EAAAnB,KAAAqB,EADAkC,EACAlC,KADAkC,EACAvD,KADAuD,EACAjC,QACA,MAAAD,GACwBL,OAAAC,EAAA,EAAAD,CAAxBqC,EAAApD,YAAAP,MAAAwB,KAAA,SAAAyB,GAAA,IAAAa,EACAb,EAAA3C,KAAAqB,EADAmC,EACAnC,KAAArB,EADAwD,EACAxD,KADAwD,EACAlC,QACA,MAAAD,IACAgC,EAAAR,UAAA,kBACAQ,EAAA5C,cAAAT,OAOAe,KAAA8B,UAAA,uBAIAY,wBA7FA,WA6FA,IAAAC,EAAA3C,KACAQ,MAEA,SAAAoC,EAAA5B,GACAA,EAAA6B,QAAA,SAAA3B,GACAA,EAAA3B,OACAiB,EAAAyB,MAAAtD,KAAAuC,EAAAvC,KAAAQ,MAAA+B,EAAA3B,KAAAJ,QACA+B,EAAA1B,UAAAoD,EAAA1B,EAAA1B,aAMAoD,CAAA5C,KAAA8C,QAAAC,QAAA/B,OAAAgC,KAAA,SAAA9B,GAAA,gBAAAA,EAAAvC,OAAAa,UAEYS,OAAAC,EAAA,EAAAD,CAAZO,GAAAL,KAAA,SAAAC,GAAA,IAAA6C,EACA7C,EAAAnB,KAAAqB,GADA2C,EACAhE,KADAgE,EACA3C,MADA2C,EACA1C,QACA,MAAAD,IACAqC,EAAAO,WAAA,2BACAP,EAAA7C,iBAQAqD,QAjJA,WAkJAnD,KAAAF,aAEAsD,QApJA,cC/EeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAvD,KAAawD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,OAAYE,YAAA,+BAAyCF,EAAA,UAAeE,YAAA,0BAAoCF,EAAA,UAAeG,OAAOC,KAAA,MAAWJ,EAAA,QAAaE,YAAA,UAAoBL,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAA0CE,YAAA,gBAA0BL,EAAAQ,GAAAR,EAAAS,GAAAhE,KAAAiE,OAAAC,QAAAC,WAAAhF,OAAA,iBAAAoE,EAAAQ,GAAA,KAAAL,EAAA,UAAgGE,YAAA,eAAyBF,EAAA,UAAeG,OAAOC,KAAA,OAAW,GAAAP,EAAAQ,GAAA,KAAAL,EAAA,UAA+BE,YAAA,aAAAC,OAAgCO,OAAA,MAAaV,EAAA,UAAeG,OAAOC,KAAA,KAAUJ,EAAA,MAAAH,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAR,EAAA,KAAAG,EAAA,OAAAA,EAAA,WAA6EG,OAAO5E,KAAAsE,EAAA9D,KAAAT,MAAAuE,EAAAnE,WAAsCiF,IAAKC,aAAAf,EAAAnC,mBAAkCmC,EAAAQ,GAAA,KAAAL,EAAA,OAAwBa,aAAaC,MAAA,OAAAC,YAAA,OAAAC,aAAA,UAAuDnB,EAAAQ,GAAA,qCAAAL,EAAA,aAA8Da,aAAaI,cAAA,OAAoBd,OAAQe,MAAA,GAAAC,KAAA,OAAAC,KAAA,WAA0CC,UAAWC,MAAA,SAAAC,GAAyB,OAAA1B,EAAAb,wBAAAuC,OAA6C1B,EAAAQ,GAAA,sCAAAR,EAAA2B,OAAA3B,EAAAQ,GAAA,KAAA/D,KAAAd,YAAA,MAAAwE,EAAA,UAA4GG,OAAOC,KAAA,MAAWJ,EAAA,MAAAA,EAAA,QAAsBE,YAAA,gBAA0BL,EAAAQ,GAAAR,EAAAS,GAAAhE,KAAAd,YAAAC,UAAAoE,EAAAQ,GAAA,mBAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAA2FE,YAAA,mBAA6BF,EAAA,KAAAH,EAAA4B,GAAA5B,EAAA,uBAAA6B,EAAA3D,GAAuD,OAAAiC,EAAA,MAAgBxB,IAAAT,IAAU8B,EAAAQ,GAAA,0CAAAL,EAAA,YAAkEG,OAAOwB,YAAA,WAAAR,KAAA,QAAuCS,OAAQC,MAAAH,EAAA,IAAAI,SAAA,SAAAC,GAAuClC,EAAAmC,KAAAN,EAAA,MAAAK,IAAwBE,WAAA,WAAqBpC,EAAAQ,GAAA,yCAAAL,EAAA,YAAiEG,OAAOwB,YAAA,UAAAR,KAAA,QAAsCS,OAAQC,MAAAH,EAAA,MAAAI,SAAA,SAAAC,GAAyClC,EAAAmC,KAAAN,EAAA,QAAAK,IAA0BE,WAAA,aAAuBpC,EAAAQ,GAAA,uCAAAL,EAAA,YAA+DG,OAAOwB,YAAA,QAAAR,KAAA,QAAoCS,OAAQC,MAAAH,EAAA,YAAAI,SAAA,SAAAC,GAA+ClC,EAAAmC,KAAAN,EAAA,cAAAK,IAAgCE,WAAA,mBAA6BpC,EAAAQ,GAAA,KAAAL,EAAA,aAA8BG,OAAOe,MAAA,GAAAC,KAAA,OAAAC,KAAA,UAAyCC,UAAWC,MAAA,SAAAC,GAAyB,OAAA1B,EAAAhC,oBAAA6D,EAAAQ,MAAAnE,OAAgD8B,EAAAQ,GAAA,8BAAqC,GAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAAiCmC,aAAalH,KAAA,OAAAmH,QAAA,SAAAP,MAAAvF,KAAAN,cAAAqG,OAAA,EAAAJ,WAAA,gCAA0GpB,aAAeG,aAAA,OAAAC,cAAA,QAAyCd,OAAQgB,KAAA,OAAAC,KAAA,WAA+BC,UAAWC,MAAA,SAAAC,GAAyB,OAAA1B,EAAAlB,kBAAA4C,OAAuC1B,EAAAQ,GAAA,oBAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAAyDa,aAAaG,aAAA,QAAoBb,OAAQgB,KAAA,OAAAC,KAAA,WAA+BC,UAAWC,MAAA,SAAAC,GAAyB,OAAA1B,EAAAvB,iBAAAiD,OAAsC1B,EAAAQ,GAAA,4BAAAR,EAAA2B,MAAA,UAE5wFc,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEzH,EACA2E,GATF,EAVA,SAAA+C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB,6CC1BhCI,EAAA,EAyBO,WACL,OAAOpG,OAAAqG,EAAA,EAAArG,EACLsG,IAAK,qBACLC,OAAQ,SA5BZH,EAAA,EAgCO,SAA2BpH,GAChC,OAAOgB,OAAAqG,EAAA,EAAArG,EACLsG,IAAK,qBACLC,OAAQ,OACRvH,MAAOA,WApCXoH,EAAA,EAyCO,SAAgCI,GACrC,OAAOxG,OAAAqG,EAAA,EAAArG,EACLsG,IAAK,0BACLC,OAAQ,MACRE,QACED,WA9CNJ,EAAA,EAoDO,SAAgCpH,GACrC,OAAOgB,OAAAqG,EAAA,EAAArG,EACLsG,IAAK,0BACLC,OAAQ,OACRvH,MACEA,WAzDNoH,EAAA,EAgEO,SAAmCT,GACxC,OAAO3F,OAAAqG,EAAA,EAAArG,EACLsG,IAAK,6BACLC,OAAQ,SACRE,QACEd,YArEN,IAAAU,EAAAJ,EAAA","file":"static/js/6.e10a3c18f629cf1fb0a1.js","sourcesContent":["<template>\n  <div class=\"page_wrapper\">\n\n    <div class=\"main_body animated  fadeIn\">\n\n      <el-row class=\"head_area  panel_area\">\n        <el-col :span=\"24\">\n          <span class=\"title\">权限配置</span>\n          <span class=\"description\">{{this.$store.getters.systemInfo.title}} 权限配置</span>\n        </el-col>\n      </el-row>\n\n\n      <el-row class=\"panel_area\">\n\n\n        <el-col :span=\"24\">\n        </el-col>\n      </el-row>\n\n\n      <el-row :gutter=\"20\" class=\"panel_area\">\n        <el-col :span=\"8\">\n          <h3>前端路由菜单</h3>\n          <div v-if=\"tree\">\n            <el-tree :data=\"tree\" :props=\"treeProps\" @node-click=\"handleNodeClick\"></el-tree>\n            <div style=\"color: gray;font-size: 14px;margin-top: 15px\">如果上方树形数据与前端路由表不匹配 请\n              <el-button @click.native=\"updateRouteFromFrontEnd\" plain size=\"mini\" style=\"margin-left: 5px\"\n                         type=\"warning\">同步前端路由到服务器\n              </el-button>\n            </div>\n          </div>\n        </el-col>\n        <el-col :span=\"16\" v-if=\"this.currentMenu.title\">\n          <h3><span class=\"currentMenu\">{{this.currentMenu.title}}</span> 菜单下的 API 权限 </h3>\n          <div class=\"api_permission\">\n            <ul>\n              <li :key=\"index\" v-for=\"(p,index)  of apiPermission\">\n                权限key:\n                <el-input placeholder=\"请输入权限key\" size=\"mini\" v-model=\"p.key\"></el-input>\n                后端路由:\n                <el-input placeholder=\"请输入后端路由\" size=\"mini\" v-model=\"p.route\"></el-input>\n                描述：\n                <el-input placeholder=\"请输入描述\" size=\"mini\" v-model=\"p.description\"></el-input>\n                <el-button @click.native=\"deleteApiPermission(p.ap_id,index)\" plain size=\"mini\" type=\"danger\">删除\n                </el-button>\n              </li>\n            </ul>\n            <el-button @click.native=\"saveApiPermission\" size=\"mini\" style=\"margin-top: 20px;margin-left: 15px\"\n                       type=\"primary\"\n                       v-show=\"this.apiPermission.length>0\">保存\n            </el-button>\n            <el-button @click.native=\"addApiPermission\" size=\"mini\" style=\"margin-top: 20px\" type=\"success\">添加权限\n            </el-button>\n          </div>\n\n        </el-col>\n\n      </el-row>\n\n\n    </div>\n\n\n  </div>\n</template>\n\n<script>\n    import pageMixin from \"@/mixin/pageMixin\";\n    import tableMixin from \"@/mixin/tableMixin\";\n    import TableToolsBox from \"../../components/childComponents/TableToolsBox\";\n    import {\n        deleteAPIPermissionByMenu,\n        getAPIPermissionByMenu,\n        getMenuPermission,\n        setAPIPermissionByMenu,\n        setMenuPermission\n    } from \"../../api/permission\";\n\n\n    import {dynamicRoutes} from '../../router/dynamicRoutes'\n\n    export default {\n        name: \"Permission\",\n        components: {\n            TableToolsBox,\n        },\n        mixins: [pageMixin],\n        props: {},\n        data() {\n            return {\n                currentMenu: {\n                    title: \"\",\n                    name: \"\"\n                },\n                treeProps: {\n                    label: function (data, node) {\n                        return data.meta.title;\n                    },\n                    children: \"children\"\n                },\n                tree: null,\n                apiPermission: []\n            }\n        },\n        watch: {},\n        computed: {},\n        methods: {\n            getRoutes() {\n\n\n                // function changeRoutes(routes) {\n                //     return routes.map(item => {\n                //         item.label = item.meta.title;\n                //         if (item.children) item.children = changeRoutes(item.children);\n                //         return item;\n                //     });\n                // }\n\n\n                getMenuPermission().then(res => {\n                    const {data, code, message} = res.data;\n                    if (code === 10000) {\n                        const arr = data.map(res => {\n                            return res.menu_key;\n                        });\n                        const recursion = function (routes) {\n                            return routes.filter(item => {\n                                if (item.children) item.children = recursion(item.children);\n                                return arr.includes(item.name);\n                            })\n                        };\n\n                        let vueRoutes = _.cloneDeep(dynamicRoutes.children);\n                        this.tree = recursion(vueRoutes);\n                    }\n                })\n\n\n                // this.data = changeRoutes(vueRoutes);//改变路由  在路由配置中 加入label 以便tree 组件使用\n\n            },\n            handleNodeClick(data) {\n                this.currentMenu = {\n                    title: data.meta.title,\n                    name: data.name,\n                };\n                getAPIPermissionByMenu(data.name).then(res => {\n                    const {code, data, message} = res.data;\n                    if (code === 10000) {\n                        this.apiPermission = data;\n                    }\n                })\n            },\n\n            deleteApiPermission(id, index) {\n                if (!id) {\n                    this.apiPermission.splice(index, 1)\n                    return;\n                }\n                ;\n                deleteAPIPermissionByMenu(id).then(res => {\n                    const {code, data, message} = res.data;\n                    if (code === 10000) {\n                        getAPIPermissionByMenu(this.currentMenu.name).then(r => {\n                            const {code, data, message} = r.data;\n                            if (code === 10000) {\n                                this.ele_alert(\"删除成功\", \"success\");\n                                this.apiPermission = data;\n                            }\n                        });\n                    }\n                })\n\n            },\n            addApiPermission() {\n                this.apiPermission.push({key: \"\", route: \"\", menu_key: this.currentMenu.name, description: \"\"});\n            },\n            saveApiPermission() {\n                if (this.apiPermission.every(item => {\n                    return item.key !== \"\";\n                })) {\n                    setAPIPermissionByMenu(this.apiPermission).then(res => {\n                        const {code, data, message} = res.data;\n                        if (code === 10000) {\n                            getAPIPermissionByMenu(this.currentMenu.name).then(r => {\n                                const {code, data, message} = r.data;\n                                if (code === 10000) {\n                                    this.ele_alert(\"保存成功\", \"success\");\n                                    this.apiPermission = data;\n                                }\n                            });\n                        }\n\n                    });\n                } else {\n                    this.ele_alert(\"Key不能为空！\", \"warning\");\n                }\n\n            },\n            updateRouteFromFrontEnd() {\n                const arr = [];\n\n                function getRouteName(routes) {\n                    routes.forEach(item => {\n                        if (item.meta){\n                            arr.push({name: item.name, title: item.meta.title});\n                            if (item.children) getRouteName(item.children);\n                        }\n\n                    })\n                }\n\n                getRouteName(this.$router.options.routes.find(item => item.name === 'Frame').children);\n\n                setMenuPermission(arr).then(res => {\n                    const {data, code, message} = res.data;\n                    if (code === 10000) {\n                        this.ele_notify(\"更新前端路由到服务器成功！\",\"success\");\n                        this.getRoutes();\n                    }\n                });\n\n\n            }\n\n        },\n        created() {\n            this.getRoutes();\n        },\n        mounted() {\n        },\n    }\n</script>\n\n<style lang='scss' scoped>\n  @import \"../../assets/styles/base.scss\";\n\n  .item_img {\n    img {\n      max-width: 100%;\n    }\n  }\n\n  .table-expand {\n    font-size: 0;\n  }\n\n  .table-expand label {\n    width: 90px;\n    color: #99a9bf;\n  }\n\n  .table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 100%;\n  }\n\n\n  .el-input {\n    width: 180px;\n  }\n\n  h3 {\n    margin-bottom: 15px;\n    margin-left: 5px;\n    font-weight: normal;\n  }\n\n  .page_wrapper {\n\n    .currentMenu{\n      color: $baseColor3;\n    }\n    .api_permission {\n      display: flex;\n      /*flex-direction: row-reverse;*/\n      justify-content: center;\n\n      flex-wrap: wrap;\n\n      ul {\n        width: 100%;\n\n        li {\n          text-align: center;\n          color: gray;\n          font-size: 14px;\n\n          &:not(:last-child) {\n            margin-bottom: 15px;\n\n          }\n        }\n\n      }\n\n    }\n\n\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Auth/Permission.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page_wrapper\"},[_c('div',{staticClass:\"main_body animated  fadeIn\"},[_c('el-row',{staticClass:\"head_area  panel_area\"},[_c('el-col',{attrs:{\"span\":24}},[_c('span',{staticClass:\"title\"},[_vm._v(\"权限配置\")]),_vm._v(\" \"),_c('span',{staticClass:\"description\"},[_vm._v(_vm._s(this.$store.getters.systemInfo.title)+\" 权限配置\")])])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"panel_area\"},[_c('el-col',{attrs:{\"span\":24}})],1),_vm._v(\" \"),_c('el-row',{staticClass:\"panel_area\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('h3',[_vm._v(\"前端路由菜单\")]),_vm._v(\" \"),(_vm.tree)?_c('div',[_c('el-tree',{attrs:{\"data\":_vm.tree,\"props\":_vm.treeProps},on:{\"node-click\":_vm.handleNodeClick}}),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"gray\",\"font-size\":\"14px\",\"margin-top\":\"15px\"}},[_vm._v(\"如果上方树形数据与前端路由表不匹配 请\\n            \"),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"plain\":\"\",\"size\":\"mini\",\"type\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.updateRouteFromFrontEnd($event)}}},[_vm._v(\"同步前端路由到服务器\\n            \")])],1)],1):_vm._e()]),_vm._v(\" \"),(this.currentMenu.title)?_c('el-col',{attrs:{\"span\":16}},[_c('h3',[_c('span',{staticClass:\"currentMenu\"},[_vm._v(_vm._s(this.currentMenu.title))]),_vm._v(\" 菜单下的 API 权限 \")]),_vm._v(\" \"),_c('div',{staticClass:\"api_permission\"},[_c('ul',_vm._l((_vm.apiPermission),function(p,index){return _c('li',{key:index},[_vm._v(\"\\n              权限key:\\n              \"),_c('el-input',{attrs:{\"placeholder\":\"请输入权限key\",\"size\":\"mini\"},model:{value:(p.key),callback:function ($$v) {_vm.$set(p, \"key\", $$v)},expression:\"p.key\"}}),_vm._v(\"\\n              后端路由:\\n              \"),_c('el-input',{attrs:{\"placeholder\":\"请输入后端路由\",\"size\":\"mini\"},model:{value:(p.route),callback:function ($$v) {_vm.$set(p, \"route\", $$v)},expression:\"p.route\"}}),_vm._v(\"\\n              描述：\\n              \"),_c('el-input',{attrs:{\"placeholder\":\"请输入描述\",\"size\":\"mini\"},model:{value:(p.description),callback:function ($$v) {_vm.$set(p, \"description\", $$v)},expression:\"p.description\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\",\"type\":\"danger\"},nativeOn:{\"click\":function($event){return _vm.deleteApiPermission(p.ap_id,index)}}},[_vm._v(\"删除\\n              \")])],1)}),0),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.apiPermission.length>0),expression:\"this.apiPermission.length>0\"}],staticStyle:{\"margin-top\":\"20px\",\"margin-left\":\"15px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.saveApiPermission($event)}}},[_vm._v(\"保存\\n          \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"size\":\"mini\",\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.addApiPermission($event)}}},[_vm._v(\"添加权限\\n          \")])],1)]):_vm._e()],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3225ebea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Auth/Permission.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3225ebea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Permission.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Permission.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Permission.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3225ebea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Permission.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3225ebea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Auth/Permission.vue\n// module id = null\n// module chunks = ","import request from \"../utils/request\";\n\n\nexport function setRoleMenuPermission(rid, name, status) {\n  return request({\n    url: \"/setRoleMenuPermission\",\n    method: \"post\",\n    data: {\n      rid, name, status\n    }\n  })\n\n}\n\nexport function setRoleApiPermission(rid, key, status) {\n  return request({\n    url: \"/setRoleApiPermission\",\n    method: \"post\",\n    data: {\n      rid, key, status\n    }\n  })\n\n}\n\nexport function getMenuPermission() {\n  return request({\n    url: \"/getMenuPermission\",\n    method: \"get\"\n  })\n}\n\nexport function setMenuPermission(data) {\n  return request({\n    url: \"/setMenuPermission\",\n    method: \"post\",\n    data: {data}\n  })\n\n}\n\nexport function getAPIPermissionByMenu(menu) {\n  return request({\n    url: \"/getAPIPermissionByMenu\",\n    method: \"get\",\n    params: {\n      menu\n    }\n  })\n\n}\n\nexport function setAPIPermissionByMenu(data) {\n  return request({\n    url: \"/setAPIPermissionByMenu\",\n    method: \"post\",\n    data: {\n      data\n    }\n  })\n\n}\n\n\nexport function deleteAPIPermissionByMenu(ap_id) {\n  return request({\n    url: \"/deleteAPIPermissionByMenu\",\n    method: \"delete\",\n    params: {\n      ap_id\n    },\n  })\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/permission.js"],"sourceRoot":""}