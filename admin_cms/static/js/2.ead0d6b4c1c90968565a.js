webpackJsonp([2],{"9EPP":function(t,a,e){"use strict";var n={name:"EchartComponent",props:{option:{type:Object,required:!0}},data:function(){return{chart:"",chartColor:"#33a0d7",chartBackgroundColor:"",chartTitleColor:"white",chartLegendColor:"white"}},watch:{option:function(t){this.drawChart()}},methods:{drawChart:function(){this.chart=this.$echarts.init(this.$refs.chart);var t=this.option;t.backgroundColor=this.chartBackgroundColor,t.textStyle={color:"white"},this.chart.setOption(t)}},mounted:function(){var t=this;this.drawChart(),window.addEventListener("resize",function(){t.chart.resize()})},created:function(){}},i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"componentWrapper"},[a("div",{ref:"chart",staticClass:"chart"})])},staticRenderFns:[]};var r=e("VU/8")(n,i,!1,function(t){e("XPZO")},"data-v-5f10feb1",null);a.a=r.exports},XPZO:function(t,a){},"c1+F":function(t,a,e){"use strict";var n=e("lZPY"),i=e.n(n),r={name:"CountUp",components:{},data:function(){return{instance:null}},props:{start:{type:Boolean,default:!0},startnum:{default:0},endnum:{required:!0},decimals:{default:0},duration:{default:2},useEasing:{type:Boolean,default:!1},separator:{type:String,default:""},prefix:{type:String,default:""},suffix:{type:String,default:""},callback:{type:Function}},watch:{start:function(t){var a=this;t&&this.instance.start(function(){a.callback&&a.callback(a.instance)})},endnum:function(t){this.instance&&this.instance.update&&this.instance.update(t)}},computed:{},methods:{init:function(){var t=this;if(!this.instance){var a={decimal:".",useEasing:this.useEasing,separator:this.separator,prefix:this.prefix,suffix:this.suffix};this.instance=new i.a(this.$el,this.startnum,this.endnum,this.decimals,this.duration,a),this.start&&this.instance.start(function(){t.callback&&t.callback(t.instance)})}}},created:function(){},mounted:function(){this.init()},beforeDestroy:function(){this.instance=null}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("span")},staticRenderFns:[]};var s=e("VU/8")(r,o,!1,function(t){e("hv2M")},"data-v-8411bf86",null);a.a=s.exports},hv2M:function(t,a){},jRHq:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("//Fk"),i=e.n(n),r=e("RAp7"),o=e("c1+F"),s=e("9EPP"),l=Object.prototype.toString,c=Array.prototype,u=c.forEach,d=(c.filter,c.slice),f=(c.map,c.reduce,{});function m(t,a,e){if(t&&a)if(t.forEach&&t.forEach===u)t.forEach(a,e);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)a.call(e,t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&a.call(e,t[r],r,t)}function p(t){return"[object Array]"===l.call(t)}f.createCanvas=function(){return document.createElement("canvas")};function h(t){var a=p(t);this.data={};var e=this;function n(t,n){a?e.set(t,n):e.set(n,t)}t instanceof h?t.each(n):t&&m(t,n)}h.prototype={constructor:h,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,a){return this.data[t]=a},each:function(t,a){for(var e in void 0!==a&&(t=function(t,a){var e=d.call(arguments,2);return function(){return t.apply(a,e.concat(d.call(arguments)))}}(t,a)),this.data)this.data.hasOwnProperty(e)&&t(this.data[e],e)},removeKey:function(t){delete this.data[t]}};var v={title:{text:"",textStyle:{color:"white"}},dataZoom:[{type:"inside",start:0,end:100},{type:"slider",filterMode:"filter",start:0,end:100}],tooltip:{trigger:"axis",textStyle:{fontSize:18}},legend:{textStyle:{color:"white"},data:[]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[{data:[],type:"line",label:{normal:{show:!0,position:"top",formatter:"{c}人"}},itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}},{data:[],type:"line",label:{normal:{show:!0,position:"top",formatter:"{c}人"}},itemStyle:{normal:{color:"#33CCFF",lineStyle:{color:"#33CCFF"}}}}]},g={name:"home",mixins:[r.a],components:{CountUp:o.a,EchartComponent:s.a},data:function(){return{updateTime:"",loginEchartOption:null,realTimeData:{allData:[],todayData:[],roomData:[]},autoRefresh:""}},methods:{getLoginEchart:function(){var t=this;return new i.a(function(a,e){setTimeout(function(){var e=t._.cloneDeep(v),n=[0,1,2,3,4].map(function(t){return t+":00 - "+t+":59"});e.legend.data=n,e.xAxis.data=n,e.series[0].data=[6962,4697,2832,1694,918],e.series[0].name="登录人数",e.series[1].data=[10269,6917,4138,2414,1284],e.series[1].name="登录次数",t.loginEchartOption=e,a(!0)},800)})},getData:function(t){var a=this;return new i.a(function(e,n){a.globalMixin_request("rts_index?type="+t).then(function(n){n.code;var i=n.data;n.message;a.realTimeData[t]=i,a.realTimeData[t]=a.realTimeData[t].map(function(t){return-1!==t.value.toString().indexOf(".")?(t.value=Number(t.value).toFixed(2),t.decimals=t.value.toString().split(".")[1].length):t.decimals=0,t}),e(!0)})})},getRealTimeStatistics:function(){var t=this;i.a.all([this.getData("allData"),this.getLoginEchart()]).then(function(a){a.every(function(t){return t})&&(t.updateTime=new Date)})}},mounted:function(){},beforeDestroy:function(){clearInterval(this.autoRefresh)},created:function(){var t=this;this.getRealTimeStatistics(),this.autoRefresh=setInterval(function(){t.getRealTimeStatistics()},6e4)}},w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"c-main page_wrapper"},[e("div",{staticClass:"main_body animated  fadeIn"},[e("el-row",{staticClass:"head_area  panel_area"},[e("el-col",{attrs:{span:18}},[e("span",{staticClass:"title"},[t._v("数据汇总")]),t._v(" "),e("span",{staticClass:"description"},[t._v("系统数据信息聚合中心 1分钟自动更新 "),e("b",{directives:[{name:"show",rawName:"v-show",value:this.updateTime,expression:"this.updateTime"}]},[t._v("上次更新时间: "+t._s(t._f("formatDate")(t.updateTime)))])])])],1),t._v(" "),e("transition",{attrs:{name:"slide-fade"}}),t._v(" "),e("el-row",{staticClass:"dataVisualization  panelArea"},[e("transition-group",{attrs:{name:"slide-fade"}},t._l(t.realTimeData.allData,function(a,n){return e("el-col",{key:a.key,staticClass:"dataVisualization_item dataVisualization_item3 wow fadeInLeft",attrs:{lg:6,md:12,sm:12,span:6,xl:6,xs:24}},[e("div",{staticClass:"card"},[e("h3",[t._v(t._s(a.text)),e("br"),t._v(" "),e("b",[e("CountUp",{staticClass:"count_up",attrs:{decimals:a.decimals,endnum:a.value,duration:"1",prefix:"",separator:",",suffix:""}})],1),e("span",[t._v("("+t._s(a.util)+")")])]),t._v(" "),e("div",{staticClass:"viewMore"})])])}),1)],1),t._v(" "),e("el-row",{staticClass:"chartArea  panel_area"},[e("el-col",{staticClass:"chart",staticStyle:{height:"460px"},attrs:{offset:2,span:20}},[e("transition",{attrs:{name:"slide-fade"}},[this.loginEchartOption?e("EchartComponent",{attrs:{option:t.loginEchartOption}}):t._e()],1)],1)],1)],1)])},staticRenderFns:[]};var V=e("VU/8")(g,w,!1,function(t){e("xxQE")},"data-v-44874224",null);a.default=V.exports},lZPY:function(t,a,e){var n,i;void 0===(i="function"==typeof(n=function(t,a,e){return function(t,a,e,n,i,r){for(var o=0,s=["webkit","moz","ms","o"],l=0;l<s.length&&!window.requestAnimationFrame;++l)window.requestAnimationFrame=window[s[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[l]+"CancelAnimationFrame"]||window[s[l]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,a){var e=(new Date).getTime(),n=Math.max(0,16-(e-o)),i=window.setTimeout(function(){t(e+n)},n);return o=e+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var c=this;for(var u in c.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null},r)r.hasOwnProperty(u)&&(c.options[u]=r[u]);""===c.options.separator&&(c.options.useGrouping=!1),c.options.prefix||(c.options.prefix=""),c.options.suffix||(c.options.suffix=""),c.d="string"==typeof t?document.getElementById(t):t,c.startVal=Number(a),c.endVal=Number(e),c.countDown=c.startVal>c.endVal,c.frameVal=c.startVal,c.decimals=Math.max(0,n||0),c.dec=Math.pow(10,c.decimals),c.duration=1e3*Number(i)||2e3,c.formatNumber=function(t){var a,e,n,i;if(t=t.toFixed(c.decimals),e=(a=(t+="").split("."))[0],n=a.length>1?c.options.decimal+a[1]:"",i=/(\d+)(\d{3})/,c.options.useGrouping)for(;i.test(e);)e=e.replace(i,"$1"+c.options.separator+"$2");return c.options.prefix+e+n+c.options.suffix},c.easeOutExpo=function(t,a,e,n){return e*(1-Math.pow(2,-10*t/n))*1024/1023+a},c.easingFn=c.options.easingFn?c.options.easingFn:c.easeOutExpo,c.formattingFn=c.options.formattingFn?c.options.formattingFn:c.formatNumber,c.version=function(){return"1.7.1"},c.printValue=function(t){var a=c.formattingFn(t);"INPUT"===c.d.tagName?this.d.value=a:"text"===c.d.tagName||"tspan"===c.d.tagName?this.d.textContent=a:this.d.innerHTML=a},c.count=function(t){c.startTime||(c.startTime=t),c.timestamp=t;var a=t-c.startTime;c.remaining=c.duration-a,c.options.useEasing?c.countDown?c.frameVal=c.startVal-c.easingFn(a,0,c.startVal-c.endVal,c.duration):c.frameVal=c.easingFn(a,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.frameVal=c.startVal-(c.startVal-c.endVal)*(a/c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(a/c.duration),c.countDown?c.frameVal=c.frameVal<c.endVal?c.endVal:c.frameVal:c.frameVal=c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),a<c.duration?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},c.start=function(t){return c.callback=t,c.rAF=requestAnimationFrame(c.count),!1},c.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},c.reset=function(){c.paused=!1,delete c.startTime,c.startVal=a,cancelAnimationFrame(c.rAF),c.printValue(c.startVal)},c.update=function(t){cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=Number(t),c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count)},c.printValue(c.startVal)}})?n.call(a,e,a,t):n)||(t.exports=i)},xxQE:function(t,a){}});
//# sourceMappingURL=2.ead0d6b4c1c90968565a.js.map