webpackJsonp([1],{"9EPP":function(t,a,e){"use strict";var n={name:"EchartComponent",props:{option:{type:Object,required:!0}},data:function(){return{chart:"",chartColor:"#33a0d7",chartBackgroundColor:"",chartTitleColor:"white",chartLegendColor:"white"}},watch:{option:function(t){this.drawChart()}},methods:{drawChart:function(){this.chart=this.$echarts.init(this.$refs.chart);var t=this.option;t.backgroundColor=this.chartBackgroundColor,t.textStyle={color:"white"},this.chart.setOption(t)}},mounted:function(){var t=this;this.drawChart(),window.addEventListener("resize",function(){t.chart.resize()})},created:function(){}},r={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"componentWrapper"},[a("div",{ref:"chart",staticClass:"chart"})])},staticRenderFns:[]};var o=e("VU/8")(n,r,!1,function(t){e("XPZO")},"data-v-5f10feb1",null);a.a=o.exports},XPZO:function(t,a){},"c1+F":function(t,a,e){"use strict";var n=e("lZPY"),r=e.n(n),o={name:"CountUp",components:{},data:function(){return{instance:null}},props:{start:{type:Boolean,default:!0},startnum:{default:0},endnum:{required:!0},decimals:{default:0},duration:{default:2},useEasing:{type:Boolean,default:!1},separator:{type:String,default:""},prefix:{type:String,default:""},suffix:{type:String,default:""},callback:{type:Function}},watch:{start:function(t){var a=this;t&&this.instance.start(function(){a.callback&&a.callback(a.instance)})},endnum:function(t){this.instance&&this.instance.update&&this.instance.update(t)}},computed:{},methods:{init:function(){var t=this;if(!this.instance){var a={decimal:".",useEasing:this.useEasing,separator:this.separator,prefix:this.prefix,suffix:this.suffix};this.instance=new r.a(this.$el,this.startnum,this.endnum,this.decimals,this.duration,a),this.start&&this.instance.start(function(){t.callback&&t.callback(t.instance)})}}},created:function(){},mounted:function(){this.init()},beforeDestroy:function(){this.instance=null}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("span")},staticRenderFns:[]};var l=e("VU/8")(o,s,!1,function(t){e("hv2M")},"data-v-8411bf86",null);a.a=l.exports},hv2M:function(t,a){},jDeE:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("c1+F"),r=e("RAp7"),o=e("/tHx"),s=e("/6my"),l=e("9EPP"),i=e("vMJZ"),c={name:"LiveRate",components:{EchartComponent:l.a,TableToolsBox:s.a,CountUp:n.a},mixins:[r.a,o.a],props:{},data:function(){return{liveRateEchartOption:null,tableData:[],tableSort:{sortBy:"",sort:"desc"},searchParameterSource:{},searchParameterRes:{dateRange:""}}},watch:{},computed:{},methods:{tableRowClickFn:function(t,a,e){},tableSortFn:function(t){this.tableSort.sortBy=t.prop,"ascending"===t.order?this.tableSort.sort="asc":this.tableSort.sort="desc",this.getTableDataSource()},getTableDataSource:function(){var t=this;this.tableMixin_tableLoading=!0,Object(i.b)({startTime:this.searchParameterRes.dateRange[0],endTime:this.searchParameterRes.dateRange[1],sortBy:this.tableSort.sortBy,sort:this.tableSort.sort,currentPage:this.tableMixin_currentPage,pageSize:this.tableMixin_pageSize}).then(function(a){var e=a.data,n=e.code,r=e.data;e.message,e.addition;1e4===n&&(console.log(r.data),t.tableData=r.data,t.tableMixin_total=r.total)}).finally(function(){t.tableMixin_tableLoading=!1})},clearSearchParameterRes:function(){for(var t in this.searchParameterRes)this.searchParameterRes.hasOwnProperty(t)&&(this.searchParameterRes[t]="")},refresh:function(){this.tableMixin_resetCurrentPage(),this.clearSearchParameterRes(),this.getTableDataSource()},searchFn:function(){this.tableMixin_resetCurrentPage(),this.getTableDataSource()},downloadFn:function(){},getCellStyle:function(t){return{padding:"0"}}},created:function(){this.getTableDataSource()}},u={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page_wrapper"},[e("div",{staticClass:"main_body animated  fadeIn"},[e("el-row",{staticClass:"head_area  panel_area"},[e("el-col",{attrs:{span:24}},[e("span",{staticClass:"title"},[t._v("用户留存")]),t._v(" "),e("span",{staticClass:"description"},[t._v("用户注册后留存情况统计")])])],1),t._v(" "),e("el-row",{staticClass:"panel_area"},[e("el-col",{attrs:{span:24}},[e("TableToolsBox",{attrs:{"show-add":!1,"show-chart":!1,"show-down-load":!1},on:{refresh:t.refresh,search:t.searchFn}},[e("template",{slot:"search"},[e("span",[t._v("用户注册时间:")]),t._v(" "),e("el-date-picker",{staticClass:"search_param",staticStyle:{width:"250px"},attrs:{align:"right","end-placeholder":"结束日期","range-separator":"-","start-placeholder":"开始日期",type:"daterange","unlink-panels":"","value-format":"timestamp"},model:{value:t.searchParameterRes.dateRange,callback:function(a){t.$set(t.searchParameterRes,"dateRange",a)},expression:"searchParameterRes.dateRange"}})],1)],2)],1)],1),t._v(" "),e("el-row",{staticClass:"panel_area",attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"box-card padding_none"},[e("el-table",{staticStyle:{width:"100%"},attrs:{"cell-style":t.getCellStyle,data:t.tableData,"row-style":{cursor:"pointer"},"v-loading":t.tableMixin_tableLoading,border:"","row-key":"user_id",stripe:""},on:{"row-click":t.tableRowClickFn,"sort-change":t.tableSortFn}},[e("el-table-column",{attrs:{align:"center",label:"#",type:"index",width:"50"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"用户注册日期",prop:"date",sortable:"custom",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value"},[t._v("\n                    "+t._s(t._f("formatDate")(a.row.date,"YYYY-MM-DD"))+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"次日留存",prop:"day1",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day1?"white":"rgba(30,144,255,"+a.row.day1/100+")"}},[t._v("\n                    "+t._s(null==a.row.day1?"暂无数据":a.row.day1+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"2日留存",prop:"day2",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day2?"white":"rgba(30,144,255,"+a.row.day2/100+")"}},[t._v("\n                    "+t._s(null==a.row.day2?"暂无数据":a.row.day2+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"3日留存",prop:"day3",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day3?"white":"rgba(30,144,255,"+a.row.day3/100+")"}},[t._v("\n                    "+t._s(null==a.row.day3?"暂无数据":a.row.day3+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"4日留存",prop:"day4",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day4?"white":"rgba(30,144,255,"+a.row.day4/100+")"}},[t._v("\n                    "+t._s(null==a.row.day4?"暂无数据":a.row.day4+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"5日留存",prop:"day5",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day5?"white":"rgba(30,144,255,"+a.row.day5/100+")"}},[t._v("\n                    "+t._s(null==a.row.day5?"暂无数据":a.row.day5+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"6日留存",prop:"day6",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day6?"white":"rgba(30,144,255,"+a.row.day6/100+")"}},[t._v("\n                    "+t._s(null==a.row.day6?"暂无数据":a.row.day6+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"7日留存",prop:"day7",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day7?"white":"rgba(30,144,255,"+a.row.day7/100+")"}},[t._v("\n                    "+t._s(null==a.row.day7?"暂无数据":a.row.day7+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"15日留存",prop:"day15",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day15?"white":"rgba(30,144,255,"+a.row.day15/100+")"}},[t._v("\n                    "+t._s(null==a.row.day15?"暂无数据":a.row.day15+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"30日留存",prop:"day30",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day30?"white":"rgba(30,144,255,"+a.row.day30/100+")"}},[t._v("\n                    "+t._s(null==a.row.day30?"暂无数据":a.row.day30+"%")+"\n                  ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"60日留存",prop:"day60",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"table_value",style:{backgroundColor:null==a.row.day60?"white":"rgba(30,144,255,"+a.row.day60/100+")"}},[t._v("\n                    "+t._s(null==a.row.day60?"暂无数据":a.row.day60+"%")+"\n                  ")])]}}])})],1)],1)],1)],1),t._v(" "),e("el-row",{staticClass:"panel_area"},[e("el-pagination",{attrs:{"current-page":t.tableMixin_currentPage,"page-size":t.tableMixin_pageSize,"page-sizes":t.tableMixin_pageSizeArr,total:t.tableMixin_total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":t.tableMixin_handleCurrentChange,"size-change":t.tableMixin_handleSizeChange}})],1)],1)])},staticRenderFns:[]};var d=e("VU/8")(c,u,!1,function(t){e("nPDe")},"data-v-1452a862",null);a.default=d.exports},lZPY:function(t,a,e){var n,r;void 0===(r="function"==typeof(n=function(t,a,e){return function(t,a,e,n,r,o){for(var s=0,l=["webkit","moz","ms","o"],i=0;i<l.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[l[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[i]+"CancelAnimationFrame"]||window[l[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,a){var e=(new Date).getTime(),n=Math.max(0,16-(e-s)),r=window.setTimeout(function(){t(e+n)},n);return s=e+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var c=this;for(var u in c.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null},o)o.hasOwnProperty(u)&&(c.options[u]=o[u]);""===c.options.separator&&(c.options.useGrouping=!1),c.options.prefix||(c.options.prefix=""),c.options.suffix||(c.options.suffix=""),c.d="string"==typeof t?document.getElementById(t):t,c.startVal=Number(a),c.endVal=Number(e),c.countDown=c.startVal>c.endVal,c.frameVal=c.startVal,c.decimals=Math.max(0,n||0),c.dec=Math.pow(10,c.decimals),c.duration=1e3*Number(r)||2e3,c.formatNumber=function(t){var a,e,n,r;if(t=t.toFixed(c.decimals),e=(a=(t+="").split("."))[0],n=a.length>1?c.options.decimal+a[1]:"",r=/(\d+)(\d{3})/,c.options.useGrouping)for(;r.test(e);)e=e.replace(r,"$1"+c.options.separator+"$2");return c.options.prefix+e+n+c.options.suffix},c.easeOutExpo=function(t,a,e,n){return e*(1-Math.pow(2,-10*t/n))*1024/1023+a},c.easingFn=c.options.easingFn?c.options.easingFn:c.easeOutExpo,c.formattingFn=c.options.formattingFn?c.options.formattingFn:c.formatNumber,c.version=function(){return"1.7.1"},c.printValue=function(t){var a=c.formattingFn(t);"INPUT"===c.d.tagName?this.d.value=a:"text"===c.d.tagName||"tspan"===c.d.tagName?this.d.textContent=a:this.d.innerHTML=a},c.count=function(t){c.startTime||(c.startTime=t),c.timestamp=t;var a=t-c.startTime;c.remaining=c.duration-a,c.options.useEasing?c.countDown?c.frameVal=c.startVal-c.easingFn(a,0,c.startVal-c.endVal,c.duration):c.frameVal=c.easingFn(a,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.frameVal=c.startVal-(c.startVal-c.endVal)*(a/c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(a/c.duration),c.countDown?c.frameVal=c.frameVal<c.endVal?c.endVal:c.frameVal:c.frameVal=c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),a<c.duration?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},c.start=function(t){return c.callback=t,c.rAF=requestAnimationFrame(c.count),!1},c.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},c.reset=function(){c.paused=!1,delete c.startTime,c.startVal=a,cancelAnimationFrame(c.rAF),c.printValue(c.startVal)},c.update=function(t){cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=Number(t),c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count)},c.printValue(c.startVal)}})?n.call(a,e,a,t):n)||(t.exports=r)},nPDe:function(t,a){},vMJZ:function(t,a,e){"use strict";a.b=function(t){return Object(n.a)({url:"/live_rate",method:"get",params:t})},a.a=function(t){return Object(n.a)({url:"/user",method:"get",params:t})};var n=e("vLgD")}});
//# sourceMappingURL=1.87a353196e6844092842.js.map