webpackJsonp([4],{iBKT:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("RAp7"),s=t("/tHx"),l={name:"PlayerList",components:{TableToolsBox:t("/6my").a},mixins:[r.a,s.a],props:{},data:function(){return{tableData:[],tableSort:{sortBy:"",sort:"desc"},searchParameterSource:{sex:"",ai:"",status:[],searchBy:[]},searchParameterRes:{status:"",sex:"",ai:"",searchBy:"",searchValue:"",dateRange:""},addition:{currentMoney:0,allStatusMoney:[],allMoney:0}}},watch:{aiList:function(e,a){console.log(e),this.getTableDataSource()}},computed:{aiList:function(){return this.searchParameterRes.ai}},methods:{tableRowClickFn:function(e,a,t){this.$router.push({name:"PlayerInfo",query:{user_id:e.user_id}})},tableSortFn:function(e){this.tableSort.sortBy=e.prop,"ascending"===e.order?this.tableSort.sort="asc":this.tableSort.sort="desc",this.getTableDataSource()},getSearchParameters:function(){var e=this;this.globalMixin_request("/player_search_parameters","get").then(function(a){var t=a.code,r=a.data;a.message;1e4===t&&(e.searchParameterSource.ai=r.ai||[],e.searchParameterSource.sex=r.sex||[],e.searchParameterSource.status=r.status||[],e.searchParameterSource.searchBy=r.searchBy||[],e.searchParameterRes.searchBy=e.searchParameterSource.searchBy[0].value,e.searchParameterRes.ai=e.searchParameterSource.ai[0].value)})},getTableDataSource:function(){var e=this;"1"!=this.searchParameterRes.ai?this.globalMixin_request("/player","get",{searchBy:this.searchParameterRes.searchBy,status:this.searchParameterRes.status,sex:this.searchParameterRes.sex,searchValue:this.searchParameterRes.searchValue,startTime:this.searchParameterRes.dateRange[0],endTime:this.searchParameterRes.dateRange[1],sortBy:this.tableSort.sortBy,sort:this.tableSort.sort,currentPage:this.tableMixin_currentPage,pageSize:this.tableMixin_pageSize}).then(function(a){var t=a.code,r=a.data,s=(a.message,a.addition);1e4===t&&(e.tableData=r.data,e.tableMixin_total=r.total,e.addition=s)}):this.globalMixin_request("/player_ai","get",{searchBy:this.searchParameterRes.searchBy,searchValue:this.searchParameterRes.searchValue,status:this.searchParameterRes.status,currentPage:this.tableMixin_currentPage,pageSize:this.tableMixin_pageSize,sortBy:this.tableSort.sortBy,sort:this.tableSort.sort}).then(function(a){var t=a.code,r=a.data,s=(a.message,a.addition);1e4===t&&(e.tableData=r.data.map(function(e){switch(e.is_ai){case 1:e.is_ai="金币初级场";break;case 2:e.is_ai="金币中级场";break;case 3:e.is_ai="金币高级场";break;case 11:e.is_ai="钻石初级场";break;case 12:e.is_ai="钻石中级场";break;case 13:e.is_ai="钻石高级场"}return e}),e.tableMixin_total=r.total,e.addition=s)})},clearSearchParameterRes:function(){for(var e in this.searchParameterRes)this.searchParameterRes.hasOwnProperty(e)&&(this.searchParameterRes[e]="");this.searchParameterRes.searchBy=this.searchParameterSource.searchBy[0].value},refresh:function(){this.clearSearchParameterRes(),this.resetPage(),this.getSearchParameters(),this.getTableDataSource()},searchFn:function(){this.resetPage(),this.getTableDataSource()},downloadFn:function(){this.ele_notify("稍等 表格开始导出"),window.location.href=window.API_server.API_ADDRESS+"/export_csv?type=player&token="+encodeURIComponent(this.$store.getters.getOperatorInfo.token)},resetPage:function(){this.tableMixin_currentPage=1,this.tableExpandArr=[]}},created:function(){this.getSearchParameters(),this.getTableDataSource()},mounted:function(){}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.pageMixin_showPage,expression:"pageMixin_showPage"}],staticClass:"page_wrapper"},[t("div",{staticClass:"main_body animated  fadeIn"},[t("el-row",{staticClass:"head_area  panel_area"},[t("el-col",{attrs:{span:24}},[t("span",{staticClass:"title"},[e._v("用户列表")]),e._v(" "),t("span",{staticClass:"description"},[e._v("游戏用户列表")])])],1),e._v(" "),t("el-row",{staticClass:"panel_area"},[t("el-col",{attrs:{span:24}},[t("TableToolsBox",{attrs:{"show-add":!1,"show-chart":!1,"show-down-load":!0},on:{download:function(a){return e.downloadFn()},refresh:e.refresh,search:e.searchFn}},[t("template",{slot:"search"},[t("el-select",{staticClass:"search_param",staticStyle:{width:"150px"},attrs:{placeholder:"请选择显示类型"},model:{value:e.searchParameterRes.ai,callback:function(a){e.$set(e.searchParameterRes,"ai",a)},expression:"searchParameterRes.ai"}},e._l(this.searchParameterSource.ai,function(e,a){return t("el-option",{key:a,attrs:{label:e.text,value:e.value}})}),1),e._v(" "),1!=e.searchParameterRes.ai?t("el-select",{staticClass:"search_param",staticStyle:{width:"150px"},attrs:{placeholder:"请选择状态"},model:{value:e.searchParameterRes.status,callback:function(a){e.$set(e.searchParameterRes,"status",a)},expression:"searchParameterRes.status"}},e._l(this.searchParameterSource.status,function(e,a){return t("el-option",{key:a,attrs:{label:e.text,value:e.value}})}),1):e._e(),e._v(" "),1!=e.searchParameterRes.ai?t("el-select",{staticClass:"search_param",staticStyle:{width:"150px"},attrs:{placeholder:"请选择性别"},model:{value:e.searchParameterRes.sex,callback:function(a){e.$set(e.searchParameterRes,"sex",a)},expression:"searchParameterRes.sex"}},e._l(this.searchParameterSource.sex,function(e,a){return t("el-option",{key:a,attrs:{label:e.text,value:e.value}})}),1):e._e(),e._v(" "),t("el-input",{staticClass:"input-with-select search_param",staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.searchParameterRes.searchValue,callback:function(a){e.$set(e.searchParameterRes,"searchValue","string"==typeof a?a.trim():a)},expression:"searchParameterRes.searchValue"}},[t("el-select",{staticStyle:{width:"120px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.searchParameterRes.searchBy,callback:function(a){e.$set(e.searchParameterRes,"searchBy",a)},expression:"searchParameterRes.searchBy"}},e._l(this.searchParameterSource.searchBy,function(e,a){return t("el-option",{key:a,attrs:{label:e.text,value:e.value}})}),1)],1),e._v(" "),1!=e.searchParameterRes.ai?t("span",[e._v("注册时间:")]):e._e(),e._v(" "),1!=e.searchParameterRes.ai?t("el-date-picker",{staticClass:"search_param",staticStyle:{width:"250px"},attrs:{align:"right","end-placeholder":"结束日期","range-separator":"-","start-placeholder":"开始日期",type:"daterange","unlink-panels":"","value-format":"timestamp"},model:{value:e.searchParameterRes.dateRange,callback:function(a){e.$set(e.searchParameterRes,"dateRange",a)},expression:"searchParameterRes.dateRange"}}):e._e()],1)],2)],1)],1),e._v(" "),t("el-row",{staticClass:"panel_area",attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-card",{staticClass:"box-card padding_none"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-style":{cursor:"pointer"},border:"","row-key":"user_id",stripe:""},on:{"row-click":e.tableRowClickFn,"sort-change":e.tableSortFn}},[t("el-table-column",{attrs:{align:"center",label:"#",type:"index",width:"50"}}),e._v(" "),t("el-table-column",{attrs:{label:"用户昵称","min-width":"150",prop:"player_name"}}),e._v(" "),0!=e.searchParameterRes.ai?t("el-table-column",{attrs:{align:"center",label:"AI所属场次",prop:"is_ai",width:"150"}}):t("el-table-column",{attrs:{align:"center",label:"绑定手机",prop:"tel",width:"150"}}),e._v(" "),1!=e.searchParameterRes.ai?t("el-table-column",{attrs:{align:"center",label:"性别",prop:"player_sex",width:"100"}}):e._e(),e._v(" "),t("el-table-column",{attrs:{label:"充值总额",prop:"all_charge",sortable:"custom"}}),e._v(" "),t("el-table-column",{attrs:{label:"抽奖获得奖杯",prop:"all_lottery",sortable:"custom"}}),e._v(" "),t("el-table-column",{attrs:{align:"center","column-key":"is_ban",label:"状态",prop:"is_ban",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"最后登录时间",prop:"login_time",sortable:"custom",width:"180"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"注册时间",prop:"reg_time",sortable:"custom",width:"180"}})],1)],1)],1)],1),e._v(" "),t("el-row",{staticClass:"panel_area"},[t("el-pagination",{attrs:{"current-page":e.tableMixin_currentPage,"page-size":e.tableMixin_pageSize,"page-sizes":e.tableMixin_pageSizeArr,total:e.tableMixin_total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.tableMixin_handleCurrentChange,"size-change":e.tableMixin_handleSizeChange}})],1)],1)])},staticRenderFns:[]};var c=t("VU/8")(l,i,!1,function(e){t("mnFQ")},"data-v-c1339e62",null);a.default=c.exports},mnFQ:function(e,a){}});
//# sourceMappingURL=4.28ead7729ccf41fa39b4.js.map